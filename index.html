<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>SPK Penyakit Tanaman - Kelompok 4 TI</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #e9f5e9;
        overflow-x: hidden;
    }

    /* Animasi daun jatuh */
    .leaf {
        position: fixed;
        top: -50px;
        width: 30px;
        height: 30px;
        background-image: url("https://i.postimg.cc/25qKwW0B/leaf.png");
        background-size: cover;
        opacity: 0.8;
        animation: fall 5s linear infinite;
    }

    @keyframes fall {
        0% { transform: translateY(-50px) rotate(0deg); }
        100% { transform: translateY(110vh) rotate(360deg); }
    }

    /* ====================== MENU ====================== */
    #menuPage {
        height: 100vh;
        background: url("https://i.postimg.cc/3x23z0SP/farm-bg.jpg") center/cover no-repeat;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        text-shadow: 2px 2px 5px black;
        padding: 0 20px;
        text-align: center;
    }

    .judul {
        font-size: 42px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .subjudul {
        font-size: 22px;
        margin-bottom: 40px;
    }

    .kelompok {
        font-size: 24px;
        font-weight: bold;
        background: rgba(0,0,0,0.4);
        padding: 10px 20px;
        border-radius: 12px;
        margin-bottom: 30px;
    }

    .btn {
        padding: 15px 40px;
        font-size: 20px;
        font-weight: bold;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: 0.3s;
    }

    .btn:hover {
        transform: scale(1.1);
        background: #45a049;
    }

    /* ====================== SPK ====================== */
    #spkPage {
        display: none;
        width: 90%;
        max-width: 600px;
        margin: 40px auto;
        padding: 20px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 0 12px rgba(0,0,0,0.2);
    }

    select, button {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        font-size: 16px;
        border-radius: 8px;
    }

    .result-box {
        margin-top: 20px;
        padding: 15px;
        background: #eef8ee;
        border-left: 5px solid #4CAF50;
        border-radius: 8px;
    }

    .imgPenyakit {
        width: 100%;
        border-radius: 10px;
        margin-top: 10px;
    }

    .imgGejala {
        width: 100%;
        margin-top: 10px;
        border-radius: 8px;
    }
</style>
</head>
<body>

<!-- Daun jatuh -->
<script>
for (let i = 0; i < 15; i++) {
    let leaf = document.createElement("div");
    leaf.className = "leaf";
    leaf.style.left = Math.random() * 100 + "vw";
    leaf.style.animationDelay = Math.random() * 5 + "s";
    leaf.style.opacity = Math.random();
    document.body.appendChild(leaf);
}
</script>

<!-- =============== MENU =============== -->
<div id="menuPage">
    <div class="judul">SISTEM PENDUKUNG KEPUTUSAN</div>
    <div class="subjudul">Diagnosa Penyakit Tanaman</div>

    <div class="kelompok">KELOMPOK 4 - TEKNOLOGI INFORMASI</div>

    <button class="btn" onclick="bukaSPK()">MASUK KE SPK</button>
</div>

<!-- =============== SPK =============== -->
<div id="spkPage">
    <h2 style="text-align:center;">Pilih Gejala</h2>

    <select id="gejalaSelect">
        <option value="">-- pilih gejala --</option>
    </select>

    <button class="btn" onclick="diagnosa()">Diagnosa</button>

    <div id="hasil"></div>
</div>

<script>
// ====================== DATA ==========================
const data = [
    {tumbuhan:"Anggur", penyakit:"Embun Tepung (Powdery Mildew)", gejala:"Daun Menguning dan Menggulung", img:"https://i.postimg.cc/fR7q7z9z/powdery-mildew.jpg"},
    {tumbuhan:"Gandum", penyakit:"Karat Daun (Leaf Rust)", gejala:"Bercak Timbul pada Permukaan Daun", img:"https://i.postimg.cc/TwPWmKbp/leaf-rust.jpg"},
    {tumbuhan:"Padi", penyakit:"Hawar Daun Bakteri (BLB)", gejala:"Ujung Daun Mengering", img:"https://i.postimg.cc/XJy7sdqt/hawar-daun.jpg"},
    {tumbuhan:"Tomat", penyakit:"Busuk Akar (Root Rot)", gejala:"Tanaman Layu meski Tanah Basah", img:"https://i.postimg.cc/tTKKr0nC/root-rot.jpg"},
    {tumbuhan:"Melon", penyakit:"Layu Fusarium", gejala:"Batang Bagian dalam Cokelat", img:"https://i.postimg.cc/Vvy92LrD/fusarium.jpg"},
    {tumbuhan:"Timun", penyakit:"Virus Mosaik (CMV/TMV)", gejala:"Daun Keriting dan Mengecil", img:"https://i.postimg.cc/Vsk0ryyb/mosaic-virus.jpg"},
    {tumbuhan:"Pepaya", penyakit:"Antraknosa (Anthracnose)", gejala:"Ada Cincin Konsentris", img:"https://i.postimg.cc/jds0svZK/anthracnose.jpg"},
    {tumbuhan:"Kentang", penyakit:"Layu Bakteri (Bacterial Wilt)", gejala:"Tanaman Layu Mendadak", img:"https://i.postimg.cc/hPfGxXn1/bacterial-wilt.jpg"},
    {tumbuhan:"Cabai", penyakit:"Gummosis (Getah)", gejala:"Getah Kental Keluar dari Batang", img:"https://i.postimg.cc/mDdG1rWY/gummosis.jpg"},
    {tumbuhan:"Kelapa Sawit", penyakit:"Busuk Pangkal Batang (BSR)", gejala:"Pangkal Batang Membusuk dan Hitam", img:"https://i.postimg.cc/Y0d2JxxC/basal-stem-rot.jpg"},
];

// ==================== Isi dropdown ====================
const gejalaList = [...new Set(data.map(d => d.gejala))];

function isiDropdown() {
    const select = document.getElementById("gejalaSelect");
    gejalaList.forEach(g => {
        select.innerHTML += `<option value="${g}">${g}</option>`;
    });
}
isiDropdown();

// ==================== Masuk SPK ======================
function bukaSPK() {
    document.getElementById("menuPage").style.display = "none";
    document.getElementById("spkPage").style.display = "block";
}

// ======================= Diagnosa ======================
function diagnosa() {
    const g = document.getElementById("gejalaSelect").value;
    const hasil = document.getElementById("hasil");

    if (!g) {
        hasil.innerHTML = `<div class='result-box'>Silakan pilih gejala terlebih dahulu.</div>`;
        return;
    }

    const cocok = data.find(d => d.gejala === g);

    hasil.innerHTML = `
        <div class='result-box'>
            <b>Nama Tumbuhan:</b> ${cocok.tumbuhan} <br>
            <b>Penyakit:</b> ${cocok.penyakit} <br>
            <b>Gejala:</b> ${cocok.gejala} <br>
            <img class='imgPenyakit' src="${cocok.img}">
        </div>
    `;
}
</script>

</body>
</html>
